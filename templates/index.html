<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="AI model for parking availability prediction using IoT sensors" />
    <title>ParkIQ AI Model â€“ IoT Sensor Prediction</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body { font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif; }
        .glass { background: rgba(255,255,255,0.85); backdrop-filter: blur(12px); }
        .hero-overlay { background: linear-gradient(rgba(15,23,42,0.70), rgba(15,23,42,0.55)); }
        .gradient-text { background: linear-gradient(135deg,#2563eb,#0ea5e9); -webkit-background-clip:text; -webkit-text-fill-color:transparent; }
        .progress-bar { transition: width .5s ease; }
        @media (prefers-reduced-motion: reduce){ .progress-bar { transition:none; } }
        /* Prediction form arrival highlight */
        @keyframes pulse-focus { 0%,100% { box-shadow:0 0 0 0 rgba(37,99,235,0.6);} 50% { box-shadow:0 0 0 12px rgba(37,99,235,0); } }
        .focus-pulse { animation:pulse-focus 1.2s ease-in-out 2; }
        /* CTA arrow bounce */
        @keyframes cta-bounce { 0%,100% { transform:translateY(0);} 50% { transform:translateY(6px);} }
        .cta-bounce { animation:cta-bounce 1.6s infinite; }
        /* Row reveal */
        @keyframes row-reveal { 0% { opacity:0; transform:translateY(12px);} 100% { opacity:1; transform:translateY(0);} }
        .will-reveal { opacity:0; }
        .revealed { animation:row-reveal .5s ease forwards; }
        /* Hero fade shrink */
        .hero-transition { transition:opacity .6s ease, filter .6s ease; }
        .hero-faded { opacity:.35; filter:blur(2px); }
        /* Fallback animated gradient if video fails */
        @keyframes gradient-pan { 0% { background-position:0% 50%; } 50% { background-position:100% 50%; } 100% { background-position:0% 50%; } }
        .hero-fallback { background:linear-gradient(120deg,#0f172a,#1e3a8a,#0ea5e9,#0f172a); background-size:300% 300%; animation:gradient-pan 18s linear infinite; }
                /* Parking lot animation */
                .parking-strip { position:absolute; bottom:72px; left:50%; transform:translateX(-50%); width:90%; max-width:1000px; pointer-events:none; }
                .parking-lot { display:grid; grid-template-columns:repeat(10,1fr); gap:6px; padding:6px 8px; background:rgba(255,255,255,0.08); backdrop-filter:blur(6px); border:1px solid rgba(255,255,255,0.25); border-radius:10px; }
                .slot { position:relative; height:26px; border:1px solid rgba(255,255,255,0.35); border-radius:4px; overflow:hidden; }
                .slot::after { content:""; position:absolute; inset:0; background:linear-gradient(160deg,rgba(255,255,255,0.15),rgba(255,255,255,0)); opacity:0; transition:opacity .6s; }
                .slot.active::after { opacity:1; }
                .car { position:absolute; top:2px; left:-40px; width:34px; height:20px; background:#0ea5e9; border-radius:4px 6px 6px 4px; box-shadow:0 2px 4px rgba(0,0,0,0.25); display:flex; justify-content:center; align-items:center; color:#fff; font-size:10px; font-weight:600; letter-spacing:.5px; }
                .car::before, .car::after { content:""; position:absolute; width:8px; height:8px; background:#1e293b; border-radius:50%; bottom:-3px; }
                .car::before { left:5px; } .car::after { right:5px; }
                @keyframes drive-park {
                    0% { transform:translateX(0); }
                    30% { transform:translateX(var(--park-x)); }
                    45% { transform:translateX(var(--park-x)); }
                    55% { transform:translateX(var(--park-x)) translateY(0); }
                    70% { transform:translateX(var(--exit-x)); }
                    100% { transform:translateX(var(--exit-x)); }
                }
                .car.anim { animation:drive-park 9s cubic-bezier(.65,.05,.36,1) infinite; }
                @media (prefers-reduced-motion: reduce) {
                    .car.anim { animation:none; display:none; }
                    .parking-lot { animation:none; }
                }
    </style>
</head>
<body class="h-full bg-slate-50 text-slate-800">
    <!-- Global Header -->
    <header class="w-full border-b border-slate-200 bg-white/90 backdrop-blur-sm sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between">
            <div class="flex items-center gap-3">
                <div class="h-10 w-10 rounded-lg bg-gradient-to-br from-blue-600 to-cyan-500 flex items-center justify-center text-white font-bold shadow-sm">AI</div>
                <div>
                    <div class="font-semibold text-lg tracking-tight">ParkIQ AI Model</div>
                    <div class="text-xs text-slate-500">IoT Sensor Prediction</div>
                </div>
            </div>
            <nav class="hidden md:flex items-center gap-6 text-sm font-medium">
                <a href="#predict" class="text-slate-600 hover:text-blue-600 transition">Run Model</a>
                <a href="#data" class="text-slate-600 hover:text-blue-600 transition">Data Source</a>
                <a href="#model" class="text-slate-600 hover:text-blue-600 transition">Model Details</a>
            </nav>
        </div>
    </header>

    <!-- Hero Section (Static image restored) -->
    <section class="relative isolate" aria-labelledby="hero-heading">
        <div class="absolute inset-0 -z-10">
            <img src="https://images.unsplash.com/photo-1506521781263-d8422e82f27a?auto=format&fit=crop&w=1600&q=60" alt="Parking lot aerial" class="w-full h-[520px] object-cover" loading="eager" />
            <div class="absolute inset-0 hero-overlay"></div>
        </div>
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 flex flex-col lg:flex-row gap-12">
            <div class="flex-1 text-white" id="hero-heading">
                <h1 class="text-4xl sm:text-5xl font-bold leading-tight mb-6">AI Model for <span class="gradient-text">Parking Prediction</span></h1>
                <p class="text-lg text-slate-200 max-w-xl mb-8">Trained on real IoT sensor data from parking lots. Uses machine learning to predict slot availability probabilities based on time and day patterns.</p>
                <div class="flex flex-wrap gap-4">
                    <div class="flex items-center gap-2 text-sm bg-white/10 backdrop-blur px-4 py-2 rounded-full">
                        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="23 4 23 10 17 10"/><polyline points="1 20 1 14 7 14"/><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10"/><path d="M20.49 15a9 9 0 0 1-14.85 3.36L1 14"/></svg>
                        <span>IoT Sensors</span>
                    </div>
                    <div class="flex items-center gap-2 text-sm bg-white/10 backdrop-blur px-4 py-2 rounded-full">
                        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg>
                        <span>ML Prediction</span>
                    </div>
                    <div class="flex items-center gap-2 text-sm bg-white/10 backdrop-blur px-4 py-2 rounded-full">
                        <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="20" x2="12" y2="10"/><line x1="18" y1="20" x2="18" y2="4"/><line x1="6" y1="20" x2="6" y2="16"/></svg>
                        <span>Probability Output</span>
                    </div>
                </div>
            </div>
            <!-- Quick Form Card -->
            <div id="predict" class="w-full max-w-md glass rounded-xl shadow-xl border border-white/40 p-6">
                <h2 class="text-xl font-semibold mb-4 flex items-center gap-2"><span class="text-blue-600">ðŸ§ </span> Run AI Model</h2>
                <form method="GET" action="/predictions" class="space-y-5" id="predict-form">
                    <div>
                        <label for="hour" class="block text-sm font-medium mb-1 text-slate-700">Time of Day (24h)</label>
                        <input type="number" step="0.01" id="hour" name="hour" required min="0" max="23" placeholder="14.30" class="w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm focus:border-blue-600 focus:ring-2 focus:ring-blue-200 outline-none transition" />
                        <p class="text-xs text-slate-500 mt-1">Example: 14.30 = 2:30 PM</p>
                    </div>
                    <div>
                        <label for="day" class="block text-sm font-medium mb-1 text-slate-700">Day of Week</label>
                        <select id="day" name="day" required class="w-full rounded-md border border-slate-300 bg-white px-3 py-2 text-sm focus:border-blue-600 focus:ring-2 focus:ring-blue-200 outline-none transition">
                            <option value="">Select a dayâ€¦</option>
                            <option value="0">Monday</option>
                            <option value="1">Tuesday</option>
                            <option value="2">Wednesday</option>
                            <option value="3">Thursday</option>
                            <option value="4">Friday</option>
                            <option value="5">Saturday</option>
                            <option value="6">Sunday</option>
                        </select>
                    </div>
                    <button type="submit" id="submit-btn" class="w-full inline-flex justify-center items-center gap-2 rounded-md bg-gradient-to-r from-blue-600 to-cyan-500 py-2.5 text-sm font-semibold text-white shadow hover:from-blue-500 hover:to-cyan-400 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-blue-600 transition">
                        <span id="btn-text">Run Prediction</span>
                        <span id="loading-text" class="hidden items-center gap-2"><svg class="animate-spin h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"></path></svg> Processingâ€¦</span>
                    </button>
                </form>
                <div class="mt-6 text-xs text-slate-600 leading-relaxed border-t pt-4">Model processes input through trained RandomForestRegressor to output probability rankings for each parking slot.</div>
            </div>
        </div>
        <!-- Scroll CTA (kept) -->
        <button id="scroll-cta" type="button" class="absolute left-1/2 -translate-x-1/2 bottom-6 inline-flex flex-col items-center text-white/90 hover:text-white focus:outline-none" aria-label="Scroll to prediction form">
            <span class="text-xs tracking-wide mb-1">Run Model</span>
            <svg class="w-7 h-7 cta-bounce" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 5v14m0 0-7-7m7 7 7-7"/></svg>
        </button>
    </section>

    <!-- Data Source Section -->
    <section id="data" class="py-16 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold mb-10 text-center">IoT Sensor Data</h2>
            <div class="grid gap-8 md:grid-cols-2">
                <div class="group rounded-xl border border-slate-200 p-6 bg-gradient-to-b from-white to-slate-50 hover:shadow-lg transition">
                    <div class="w-12 h-12 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-4">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                        </svg>
                    </div>
                    <h3 class="font-semibold text-lg mb-2">Sensor Readings</h3>
                    <p class="text-sm text-slate-600">Real IoT sensors deployed in parking lots record occupancy status every few minutes. Data includes timestamp, slot ID, and binary availability.</p>
                </div>
                <div class="group rounded-xl border border-slate-200 p-6 bg-gradient-to-b from-white to-slate-50 hover:shadow-lg transition">
                    <div class="w-12 h-12 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mb-4">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"></path>
                        </svg>
                    </div>
                    <h3 class="font-semibold text-lg mb-2">Dataset Overview</h3>
                    <p class="text-sm text-slate-600">~2,700 sensor readings aggregated into hourly patterns. Features include time of day, day of week, and historical occupancy trends.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- (Predictions moved to separate page) -->

    <!-- Model Details Section -->
    <section id="model" class="py-20 bg-slate-50">
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <h2 class="text-3xl font-bold mb-10 text-center">AI Model Architecture</h2>
            <div class="bg-white rounded-xl p-8 shadow-sm border border-slate-200">
                <div class="grid gap-6 md:grid-cols-2">
                    <div>
                        <h3 class="font-semibold text-lg mb-4 flex items-center gap-2">
                            <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                            </svg>
                            Algorithm
                        </h3>
                        <p class="text-sm text-slate-600 mb-4">RandomForestRegressor in MultiOutputRegressor configuration for handling multiple parking slots simultaneously.</p>
                        <div class="bg-slate-50 p-4 rounded-lg font-mono text-sm">
                            <div class="text-green-600"># Model setup</div>
                            <div>from sklearn.ensemble import RandomForestRegressor</div>
                            <div>from sklearn.multioutput import MultiOutputRegressor</div>
                            <div>model = MultiOutputRegressor(RandomForestRegressor())</div>
                        </div>
                    </div>
                    <div>
                        <h3 class="font-semibold text-lg mb-4 flex items-center gap-2">
                            <svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                            </svg>
                            Features
                        </h3>
                        <ul class="text-sm text-slate-600 space-y-2">
                            <li>â€¢ Hour of day (0-23)</li>
                            <li>â€¢ Day of week (0-6)</li>
                            <li>â€¢ Historical occupancy patterns</li>
                            <li>â€¢ Temporal trends</li>
                        </ul>
                        <div class="mt-4 bg-slate-50 p-4 rounded-lg font-mono text-sm">
                            <div class="text-green-600"># Feature vector</div>
                            <div>features = [hour, day_of_week]</div>
                            <div>predictions = model.predict_proba(features)</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="border-t border-slate-200 bg-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="flex flex-col md:flex-row justify-between gap-8">
                <div>
                    <div class="flex items-center gap-2 mb-4">
                        <div class="h-9 w-9 rounded-md bg-gradient-to-br from-blue-600 to-cyan-500 flex items-center justify-center text-white font-bold">AI</div>
                        <span class="font-semibold">ParkIQ AI Model</span>
                    </div>
                    <p class="text-sm text-slate-600 max-w-sm">Machine learning model for parking availability prediction using IoT sensor data.</p>
                </div>
                <div class="text-sm text-slate-500">
                    <p>Built with scikit-learn & Flask</p>
                    <p>Dataset: ~2,700 IoT sensor readings</p>
                </div>
            </div>
            <div class="mt-8 pt-6 border-t border-slate-200 text-xs text-slate-500 text-center">
                <span>Â© 2025 ParkIQ AI Model Demo</span>
            </div>
        </div>
    </footer>

        <!-- Modal container -->
        <div id="media-modal" class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 opacity-0 pointer-events-none transition">
            <div class="relative w-full max-w-3xl mx-4">
                <button id="modal-close" class="absolute -top-10 right-0 text-white text-sm bg-white/10 hover:bg-white/20 rounded px-3 py-1">Close âœ•</button>
                <div class="bg-white rounded-lg overflow-hidden shadow-2xl">
                    <img id="modal-image" alt="Preview" class="w-full h-auto hidden"/>
                    <video id="modal-video" class="w-full h-auto hidden" controls></video>
                </div>
            </div>
        </div>
        <script>
            // Form submission: show loading + set scroll flag
            const form = document.getElementById('predict-form');
            form.addEventListener('submit', () => {
                const btn = document.getElementById('submit-btn');
                const txt = document.getElementById('btn-text');
                const load = document.getElementById('loading-text');
                btn.disabled = true; txt.classList.add('hidden'); load.classList.remove('hidden');
                try { sessionStorage.setItem('scrollToResults','1'); } catch(e) {}
            });

            // Lazy video activation
            // Removed video logic (static image now)

            // Modal logic for images
            const modal = document.getElementById('media-modal');
            const modalImg = document.getElementById('modal-image');
            const modalVideo = document.getElementById('modal-video');
            const closeBtn = document.getElementById('modal-close');
            function openModal(type, src){
                modal.classList.remove('pointer-events-none');
                modal.classList.add('opacity-100');
                if(type==='image'){ modalVideo.classList.add('hidden'); modalImg.classList.remove('hidden'); modalImg.src = src; }
                else { modalImg.classList.add('hidden'); modalVideo.classList.remove('hidden'); modalVideo.src = src; modalVideo.play().catch(()=>{}); }
            }
            function closeModal(){
                modal.classList.add('pointer-events-none');
                modal.classList.remove('opacity-100');
                modalImg.src=''; modalVideo.pause(); modalVideo.src='';
            }
            closeBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', e => { if(e.target===modal) closeModal(); });
            document.querySelectorAll('img[data-full]').forEach(img => {
                img.addEventListener('click', () => openModal('image', img.getAttribute('data-full')));
            });

                        // Auto scroll to results on prediction render
                        document.addEventListener('DOMContentLoaded', () => {
                                const shouldScroll = sessionStorage.getItem('scrollToResults') === '1';
                                const resultsEl = document.getElementById('results-heading');
                                const resultsSection = document.querySelector('section[aria-labelledby="results-heading"]');
                                const hasTable = !!document.querySelector('section[aria-labelledby="results-heading"] table');
                                const hero = document.querySelector('section[aria-labelledby="hero-heading"]');

                                function easeInOutQuad(t){ return t < 0.5 ? 2*t*t : -1+(4-2*t)*t; }
                                function animateScroll(to, duration=900){
                                    const start = window.scrollY;
                                    const end = to - 24; // small offset
                                    const diff = end - start;
                                    let startTime = null;
                                    function step(ts){
                                        if(!startTime) startTime = ts;
                                        const progress = Math.min((ts - startTime)/duration,1);
                                        const eased = easeInOutQuad(progress);
                                        window.scrollTo(0, start + diff * eased);
                                        if(progress < 1) requestAnimationFrame(step); else afterScroll();
                                    }
                                    requestAnimationFrame(step);
                                }
                                function afterScroll(){
                                    // Highlight results section
                                    if(resultsSection){
                                        resultsSection.classList.add('focus-pulse');
                                        setTimeout(()=>resultsSection.classList.remove('focus-pulse'),2400);
                                    }
                                    // Reveal rows staggered
                                    const rows = Array.from(document.querySelectorAll('tbody tr'));
                                    rows.forEach(r => r.classList.add('will-reveal'));
                                    rows.forEach((r,i)=>{
                                        setTimeout(()=>{ r.classList.remove('will-reveal'); r.classList.add('revealed'); }, i*70);
                                    });
                                }

                                if (shouldScroll && resultsEl && hasTable) {
                                        // Fade hero for transition effect
                                        if(hero){ hero.classList.add('hero-transition','hero-faded'); }
                                        animateScroll(resultsEl.getBoundingClientRect().top + window.scrollY);
                                        sessionStorage.removeItem('scrollToResults');
                                }
                                // Hero CTA custom eased scroll
                                const cta = document.getElementById('scroll-cta');
                                const target = document.getElementById('predict');
                                function easeInOutQuad(t){ return t < 0.5 ? 2*t*t : -1+(4-2*t)*t; }
                                function animateScroll(to, duration=900){
                                    const start = window.scrollY;
                                    const end = to - 40; // slight offset
                                    const diff = end - start;
                                    let startTime = null;
                                    function step(timestamp){
                                        if(!startTime) startTime = timestamp;
                                        const progress = Math.min((timestamp - startTime)/duration,1);
                                        const eased = easeInOutQuad(progress);
                                        window.scrollTo(0, start + diff * eased);
                                        if(progress < 1) requestAnimationFrame(step); else highlightTarget();
                                    }
                                    requestAnimationFrame(step);
                                }
                                function highlightTarget(){
                                    if(!target) return;
                                    target.classList.add('focus-pulse');
                                    setTimeout(()=>target.classList.remove('focus-pulse'),2400);
                                }
                                if(cta && target){
                                    cta.addEventListener('click', () => animateScroll(target.getBoundingClientRect().top + window.scrollY));
                                }
                                // Post-process prediction rows: set bar width, colors, badge styles
                                document.querySelectorAll('.progress-bar').forEach(el => {
                                    const p = parseFloat(el.getAttribute('data-prob')) || 0;
                                    el.style.width = p + '%';
                                    if (p >= 70) el.classList.add('bg-green-500');
                                    else if (p >= 40) el.classList.add('bg-amber-500');
                                    else el.classList.add('bg-red-500');
                                });
                                document.querySelectorAll('.prob-text').forEach(el => {
                                    const p = parseFloat(el.getAttribute('data-prob')) || 0;
                                    if (p >= 70) el.classList.add('text-green-600');
                                    else if (p >= 40) el.classList.add('text-amber-600');
                                    else el.classList.add('text-red-600');
                                });
                                document.querySelectorAll('.status-badge').forEach(el => {
                                    const p = parseFloat(el.getAttribute('data-prob')) || 0;
                                    if (p >= 70) el.classList.add('bg-green-50','text-green-700');
                                    else if (p >= 40) el.classList.add('bg-amber-50','text-amber-700');
                                    else el.classList.add('bg-red-50','text-red-700');
                                });
                                // Randomly pulse active slots in animation (visualizing dynamic availability)
                                                                // Prediction display moved to new page; no slot animation
            });
                        // Redirect form to separate predictions page (already using GET action)
                        form.addEventListener('submit', () => {
                            const hour = document.getElementById('hour').value;
                            const day = document.getElementById('day').value;
                            if(hour && day !== '') {
                                // Allow default submission to /predictions with query params
                            }
                        });
        </script>
</body>
</html>